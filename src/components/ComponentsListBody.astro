---
import type {Comment} from '../types/comments-types'
import SingleComment from "./SingleComment"
export const prerender = false;

const res = await fetch("https://comments-astrojs.vercel.app/api/comments", {
    method: 'GET',
    
})

const { data: comments } = await res.json()
---

<div class='grid grid-cols-2 gap-2 py-2 max-md:grid-cols-1 max-md:gap-3'>
{comments?.map((comment: Comment)=>{
    return <SingleComment client:load id={comment.id} archived={comment.archived} author={comment.author} comment={comment.comment}/>
})}
</div>